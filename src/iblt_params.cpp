// Copyright (c) 2019 The Unit-e developers
// Copyright (c) 2018 The Bitcoin Unlimited developers
// Distributed under the MIT software license, see the accompanying
// file COPYING or http://www.opensource.org/licenses/mit-license.php.

#include <iblt_params.h>

const IBLTParams DEFAULT_PARAMS(1.5, 3);

IBLTParams::IBLTParams(const float overhead, const uint8_t num_hashes)
    : overhead(overhead), num_hashes(num_hashes) {}

// See https://github.com/umass-forensics/IBLT-optimization
// for how this was generated
// Maps expected_items_count -> optimal params, where expected_items_count is
// index in the vector
IBLTParams IBLTParams::experimental_params[] = {
    {DEFAULT_PARAMS},           // expected_items_count = 0
    {IBLTParams(3.000000, 3)},  // expected_items_count = 1
    {IBLTParams(7.500000, 5)},  // etc...
    {IBLTParams(6.000000, 6)},
    {IBLTParams(5.250000, 7)},
    {IBLTParams(4.800000, 6)},
    {IBLTParams(4.000000, 6)},
    {IBLTParams(3.857143, 9)},
    {IBLTParams(3.500000, 7)},
    {IBLTParams(3.111111, 7)},
    {IBLTParams(3.000000, 6)},
    {IBLTParams(3.181818, 5)},
    {IBLTParams(2.916667, 5)},
    {IBLTParams(2.769231, 6)},
    {IBLTParams(2.571429, 6)},
    {IBLTParams(2.666667, 5)},
    {IBLTParams(2.500000, 5)},
    {IBLTParams(2.470588, 6)},
    {IBLTParams(2.333333, 6)},
    {IBLTParams(2.368421, 5)},
    {IBLTParams(2.250000, 5)},
    {IBLTParams(2.285714, 6)},
    {IBLTParams(2.272727, 5)},
    {IBLTParams(2.173913, 5)},
    {IBLTParams(2.083333, 5)},
    {IBLTParams(2.200000, 5)},
    {IBLTParams(2.115385, 5)},
    {IBLTParams(2.037037, 5)},
    {IBLTParams(2.142857, 5)},
    {IBLTParams(2.068966, 5)},
    {IBLTParams(2.000000, 5)},
    {IBLTParams(2.096774, 5)},
    {IBLTParams(2.031250, 5)},
    {IBLTParams(1.969697, 5)},
    {IBLTParams(1.911765, 5)},
    {IBLTParams(2.000000, 5)},
    {IBLTParams(1.944444, 5)},
    {IBLTParams(1.891892, 5)},
    {IBLTParams(1.973684, 5)},
    {IBLTParams(1.923077, 5)},
    {IBLTParams(1.875000, 5)},
    {IBLTParams(1.951220, 5)},
    {IBLTParams(1.904762, 5)},
    {IBLTParams(1.860465, 5)},
    {IBLTParams(1.818182, 5)},
    {IBLTParams(1.888889, 5)},
    {IBLTParams(1.847826, 5)},
    {IBLTParams(1.808511, 5)},
    {IBLTParams(1.875000, 5)},
    {IBLTParams(1.836735, 5)},
    {IBLTParams(1.800000, 5)},
    {IBLTParams(1.862745, 5)},
    {IBLTParams(1.826923, 5)},
    {IBLTParams(1.792453, 5)},
    {IBLTParams(1.851852, 4)},
    {IBLTParams(1.818182, 4)},
    {IBLTParams(1.785714, 4)},
    {IBLTParams(1.754386, 5)},
    {IBLTParams(1.724138, 4)},
    {IBLTParams(1.762712, 4)},
    {IBLTParams(1.733333, 4)},
    {IBLTParams(1.770492, 4)},
    {IBLTParams(1.774194, 5)},
    {IBLTParams(1.714286, 4)},
    {IBLTParams(1.687500, 4)},
    {IBLTParams(1.723077, 4)},
    {IBLTParams(1.696970, 4)},
    {IBLTParams(1.671642, 4)},
    {IBLTParams(1.705882, 4)},
    {IBLTParams(1.681159, 4)},
    {IBLTParams(1.714286, 4)},
    {IBLTParams(1.690141, 4)},
    {IBLTParams(1.666667, 4)},
    {IBLTParams(1.643836, 4)},
    {IBLTParams(1.621622, 4)},
    {IBLTParams(1.653333, 4)},
    {IBLTParams(1.631579, 4)},
    {IBLTParams(1.610390, 4)},
    {IBLTParams(1.641026, 4)},
    {IBLTParams(1.620253, 4)},
    {IBLTParams(1.600000, 4)},
    {IBLTParams(1.580247, 4)},
    {IBLTParams(1.609756, 4)},
    {IBLTParams(1.590361, 4)},
    {IBLTParams(1.619048, 4)},
    {IBLTParams(1.600000, 4)},
    {IBLTParams(1.627907, 4)},
    {IBLTParams(1.609195, 4)},
    {IBLTParams(1.590909, 4)},
    {IBLTParams(1.617978, 4)},
    {IBLTParams(1.600000, 4)},
    {IBLTParams(1.582418, 4)},
    {IBLTParams(1.565217, 4)},
    {IBLTParams(1.591398, 4)},
    {IBLTParams(1.574468, 4)},
    {IBLTParams(1.557895, 4)},
    {IBLTParams(1.583333, 4)},
    {IBLTParams(1.567010, 4)},
    {IBLTParams(1.551020, 4)},
    {IBLTParams(1.575758, 4)},
    {IBLTParams(1.560000, 4)},
    {IBLTParams(1.544554, 4)},
    {IBLTParams(1.568627, 4)},
    {IBLTParams(1.553398, 4)},
    {IBLTParams(1.538462, 4)},
    {IBLTParams(1.561905, 4)},
    {IBLTParams(1.547170, 4)},
    {IBLTParams(1.532710, 4)},
    {IBLTParams(1.555556, 4)},
    {IBLTParams(1.541284, 4)},
    {IBLTParams(1.527273, 4)},
    {IBLTParams(1.549550, 4)},
    {IBLTParams(1.535714, 4)},
    {IBLTParams(1.522124, 4)},
    {IBLTParams(1.543860, 4)},
    {IBLTParams(1.530435, 4)},
    {IBLTParams(1.551724, 4)},
    {IBLTParams(1.538462, 4)},
    {IBLTParams(1.525424, 4)},
    {IBLTParams(1.512605, 4)},
    {IBLTParams(1.533333, 4)},
    {IBLTParams(1.520661, 4)},
    {IBLTParams(1.508197, 4)},
    {IBLTParams(1.528455, 4)},
    {IBLTParams(1.516129, 4)},
    {IBLTParams(1.536000, 4)},
    {IBLTParams(1.523810, 4)},
    {IBLTParams(1.511811, 4)},
    {IBLTParams(1.531250, 4)},
    {IBLTParams(1.519380, 4)},
    {IBLTParams(1.507692, 4)},
    {IBLTParams(1.526718, 4)},
    {IBLTParams(1.515152, 4)},
    {IBLTParams(1.503759, 4)},
    {IBLTParams(1.522388, 4)},
    {IBLTParams(1.511111, 4)},
    {IBLTParams(1.500000, 4)},
    {IBLTParams(1.518248, 4)},
    {IBLTParams(1.507246, 4)},
    {IBLTParams(1.496403, 4)},
    {IBLTParams(1.485714, 4)},
    {IBLTParams(1.503546, 4)},
    {IBLTParams(1.492958, 4)},
    {IBLTParams(1.510490, 4)},
    {IBLTParams(1.500000, 4)},
    {IBLTParams(1.489655, 4)},
    {IBLTParams(1.506849, 4)},
    {IBLTParams(1.496599, 4)},
    {IBLTParams(1.486486, 4)},
    {IBLTParams(1.503356, 4)},
    {IBLTParams(1.493333, 4)},
    {IBLTParams(1.483444, 4)},
    {IBLTParams(1.500000, 4)},
    {IBLTParams(1.490196, 4)},
    {IBLTParams(1.480519, 4)},
    {IBLTParams(1.496774, 4)},
    {IBLTParams(1.487179, 4)},
    {IBLTParams(1.477707, 4)},
    {IBLTParams(1.493671, 4)},
    {IBLTParams(1.484277, 4)},
    {IBLTParams(1.475000, 4)},
    {IBLTParams(1.490683, 4)},
    {IBLTParams(1.481481, 4)},
    {IBLTParams(1.472393, 4)},
    {IBLTParams(1.487805, 4)},
    {IBLTParams(1.478788, 4)},
    {IBLTParams(1.469880, 4)},
    {IBLTParams(1.485030, 4)},
    {IBLTParams(1.476190, 4)},
    {IBLTParams(1.467456, 4)},
    {IBLTParams(1.482353, 4)},
    {IBLTParams(1.473684, 4)},
    {IBLTParams(1.488372, 4)},
    {IBLTParams(1.479769, 4)},
    {IBLTParams(1.471264, 4)},
    {IBLTParams(1.485714, 4)},
    {IBLTParams(1.477273, 4)},
    {IBLTParams(1.468927, 4)},
    {IBLTParams(1.460674, 4)},
    {IBLTParams(1.474860, 4)},
    {IBLTParams(1.466667, 4)},
    {IBLTParams(1.480663, 4)},
    {IBLTParams(1.472527, 4)},
    {IBLTParams(1.486339, 4)},
    {IBLTParams(1.478261, 4)},
    {IBLTParams(1.470270, 4)},
    {IBLTParams(1.462366, 4)},
    {IBLTParams(1.475936, 4)},
    {IBLTParams(1.468085, 4)},
    {IBLTParams(1.460317, 4)},
    {IBLTParams(1.473684, 4)},
    {IBLTParams(1.465969, 4)},
    {IBLTParams(1.458333, 4)},
    {IBLTParams(1.471503, 4)},
    {IBLTParams(1.463918, 4)},
    {IBLTParams(1.456410, 4)},
    {IBLTParams(1.448980, 4)},
    {IBLTParams(1.461929, 4)},
    {IBLTParams(1.454545, 4)},
    {IBLTParams(1.467337, 4)},
    {IBLTParams(1.460000, 4)},
    {IBLTParams(1.452736, 4)},
    {IBLTParams(1.465347, 4)},
    {IBLTParams(1.458128, 4)},
    {IBLTParams(1.450980, 4)},
    {IBLTParams(1.463415, 4)},
    {IBLTParams(1.456311, 4)},
    {IBLTParams(1.449275, 4)},
    {IBLTParams(1.461538, 4)},
    {IBLTParams(1.454545, 4)},
    {IBLTParams(1.447619, 4)},
    {IBLTParams(1.459716, 4)},
    {IBLTParams(1.452830, 4)},
    {IBLTParams(1.446009, 4)},
    {IBLTParams(1.457944, 4)},
    {IBLTParams(1.451163, 4)},
    {IBLTParams(1.444444, 4)},
    {IBLTParams(1.456221, 4)},
    {IBLTParams(1.449541, 4)},
    {IBLTParams(1.442922, 4)},
    {IBLTParams(1.454545, 4)},
    {IBLTParams(1.447964, 4)},
    {IBLTParams(1.441441, 4)},
    {IBLTParams(1.452915, 4)},
    {IBLTParams(1.446429, 4)},
    {IBLTParams(1.440000, 4)},
    {IBLTParams(1.451327, 4)},
    {IBLTParams(1.444934, 4)},
    {IBLTParams(1.438596, 4)},
    {IBLTParams(1.449782, 4)},
    {IBLTParams(1.443478, 4)},
    {IBLTParams(1.454545, 4)},
    {IBLTParams(1.448276, 4)},
    {IBLTParams(1.442060, 4)},
    {IBLTParams(1.452991, 4)},
    {IBLTParams(1.446809, 4)},
    {IBLTParams(1.440678, 4)},
    {IBLTParams(1.451477, 4)},
    {IBLTParams(1.445378, 4)},
    {IBLTParams(1.439331, 4)},
    {IBLTParams(1.433333, 4)},
    {IBLTParams(1.443983, 4)},
    {IBLTParams(1.438017, 4)},
    {IBLTParams(1.432099, 4)},
    {IBLTParams(1.442623, 4)},
    {IBLTParams(1.436735, 4)},
    {IBLTParams(1.430894, 4)},
    {IBLTParams(1.441296, 4)},
    {IBLTParams(1.435484, 4)},
    {IBLTParams(1.429719, 4)},
    {IBLTParams(1.440000, 4)},
    {IBLTParams(1.434263, 4)},
    {IBLTParams(1.428571, 4)},
    {IBLTParams(1.438735, 4)},
    {IBLTParams(1.433071, 4)},
    {IBLTParams(1.427451, 4)},
    {IBLTParams(1.437500, 4)},
    {IBLTParams(1.431907, 4)},
    {IBLTParams(1.441860, 4)},
    {IBLTParams(1.436293, 4)},
    {IBLTParams(1.430769, 4)},
    {IBLTParams(1.440613, 4)},
    {IBLTParams(1.435115, 4)},
    {IBLTParams(1.429658, 4)},
    {IBLTParams(1.439394, 4)},
    {IBLTParams(1.433962, 4)},
    {IBLTParams(1.428571, 4)},
    {IBLTParams(1.423221, 4)},
    {IBLTParams(1.432836, 4)},
    {IBLTParams(1.427509, 4)},
    {IBLTParams(1.437037, 4)},
    {IBLTParams(1.431734, 4)},
    {IBLTParams(1.426471, 4)},
    {IBLTParams(1.435897, 4)},
    {IBLTParams(1.430657, 4)},
    {IBLTParams(1.425455, 4)},
    {IBLTParams(1.420290, 4)},
    {IBLTParams(1.429603, 4)},
    {IBLTParams(1.424460, 4)},
    {IBLTParams(1.433692, 4)},
    {IBLTParams(1.428571, 4)},
    {IBLTParams(1.423488, 4)},
    {IBLTParams(1.432624, 4)},
    {IBLTParams(1.427562, 4)},
    {IBLTParams(1.422535, 4)},
    {IBLTParams(1.431579, 4)},
    {IBLTParams(1.426573, 4)},
    {IBLTParams(1.421603, 4)},
    {IBLTParams(1.430556, 4)},
    {IBLTParams(1.425606, 4)},
    {IBLTParams(1.420690, 4)},
    {IBLTParams(1.429553, 4)},
    {IBLTParams(1.424658, 4)},
    {IBLTParams(1.433447, 4)},
    {IBLTParams(1.428571, 4)},
    {IBLTParams(1.423729, 4)},
    {IBLTParams(1.418919, 4)},
    {IBLTParams(1.427609, 4)},
    {IBLTParams(1.422819, 4)},
    {IBLTParams(1.418060, 4)},
    {IBLTParams(1.426667, 4)},
    {IBLTParams(1.421927, 4)},
    {IBLTParams(1.417219, 4)},
    {IBLTParams(1.425743, 4)},
    {IBLTParams(1.421053, 4)},
    {IBLTParams(1.416393, 4)},
    {IBLTParams(1.424837, 4)},
    {IBLTParams(1.420195, 4)},
    {IBLTParams(1.415584, 4)},
    {IBLTParams(1.423948, 4)},
    {IBLTParams(1.419355, 4)},
    {IBLTParams(1.414791, 4)},
    {IBLTParams(1.423077, 4)},
    {IBLTParams(1.418530, 4)},
    {IBLTParams(1.414013, 4)},
    {IBLTParams(1.422222, 4)},
    {IBLTParams(1.417722, 4)},
    {IBLTParams(1.413249, 4)},
    {IBLTParams(1.421384, 4)},
    {IBLTParams(1.416928, 4)},
    {IBLTParams(1.412500, 4)},
    {IBLTParams(1.420561, 4)},
    {IBLTParams(1.416149, 4)},
    {IBLTParams(1.411765, 4)},
    {IBLTParams(1.419753, 4)},
    {IBLTParams(1.415385, 4)},
    {IBLTParams(1.411043, 4)},
    {IBLTParams(1.418960, 4)},
    {IBLTParams(1.414634, 4)},
    {IBLTParams(1.410334, 4)},
    {IBLTParams(1.418182, 4)},
    {IBLTParams(1.413897, 4)},
    {IBLTParams(1.421687, 4)},
    {IBLTParams(1.417417, 4)},
    {IBLTParams(1.413174, 4)},
    {IBLTParams(1.408955, 4)},
    {IBLTParams(1.416667, 4)},
    {IBLTParams(1.412463, 4)},
    {IBLTParams(1.408284, 4)},
    {IBLTParams(1.415929, 4)},
    {IBLTParams(1.411765, 4)},
    {IBLTParams(1.407625, 4)},
    {IBLTParams(1.415205, 4)},
    {IBLTParams(1.411079, 4)},
    {IBLTParams(1.418605, 4)},
    {IBLTParams(1.414493, 4)},
    {IBLTParams(1.410405, 4)},
    {IBLTParams(1.417867, 4)},
    {IBLTParams(1.413793, 4)},
    {IBLTParams(1.409742, 4)},
    {IBLTParams(1.405714, 4)},
    {IBLTParams(1.413105, 4)},
    {IBLTParams(1.409091, 4)},
    {IBLTParams(1.416431, 4)},
    {IBLTParams(1.412429, 4)},
    {IBLTParams(1.408451, 4)},
    {IBLTParams(1.404494, 4)},
    {IBLTParams(1.411765, 4)},
    {IBLTParams(1.407821, 4)},
    {IBLTParams(1.403900, 4)},
    {IBLTParams(1.411111, 4)},
    {IBLTParams(1.407202, 4)},
    {IBLTParams(1.414365, 4)},
    {IBLTParams(1.410468, 4)},
    {IBLTParams(1.406593, 4)},
    {IBLTParams(1.413699, 4)},
    {IBLTParams(1.409836, 4)},
    {IBLTParams(1.405995, 4)},
    {IBLTParams(1.402174, 4)},
    {IBLTParams(1.409214, 4)},
    {IBLTParams(1.405405, 4)},
    {IBLTParams(1.412399, 4)},
    {IBLTParams(1.408602, 4)},
    {IBLTParams(1.404826, 4)},
    {IBLTParams(1.411765, 4)},
    {IBLTParams(1.408000, 4)},
    {IBLTParams(1.404255, 4)},
    {IBLTParams(1.411141, 4)},
    {IBLTParams(1.407407, 4)},
    {IBLTParams(1.403694, 4)},
    {IBLTParams(1.410526, 4)},
    {IBLTParams(1.406824, 4)},
    {IBLTParams(1.403141, 4)},
    {IBLTParams(1.409922, 4)},
    {IBLTParams(1.406250, 4)},
    {IBLTParams(1.402597, 4)},
    {IBLTParams(1.398964, 4)},
    {IBLTParams(1.405685, 4)},
    {IBLTParams(1.402062, 4)},
    {IBLTParams(1.408740, 4)},
    {IBLTParams(1.405128, 4)},
    {IBLTParams(1.401535, 4)},
    {IBLTParams(1.408163, 4)},
    {IBLTParams(1.404580, 4)},
    {IBLTParams(1.401015, 4)},
    {IBLTParams(1.397468, 4)},
    {IBLTParams(1.404040, 4)},
    {IBLTParams(1.400504, 4)},
    {IBLTParams(1.407035, 4)},
    {IBLTParams(1.403509, 4)},
    {IBLTParams(1.400000, 4)},
    {IBLTParams(1.396509, 4)},
    {IBLTParams(1.402985, 4)},
    {IBLTParams(1.399504, 4)},
    {IBLTParams(1.405941, 4)},
    {IBLTParams(1.402469, 4)},
    {IBLTParams(1.399015, 4)},
    {IBLTParams(1.405405, 4)},
    {IBLTParams(1.401961, 4)},
    {IBLTParams(1.398533, 4)},
    {IBLTParams(1.404878, 4)},
    {IBLTParams(1.401460, 4)},
    {IBLTParams(1.398058, 4)},
    {IBLTParams(1.404358, 4)},
    {IBLTParams(1.400966, 4)},
    {IBLTParams(1.397590, 4)},
    {IBLTParams(1.403846, 4)},
    {IBLTParams(1.400480, 4)},
    {IBLTParams(1.397129, 4)},
    {IBLTParams(1.393795, 4)},
    {IBLTParams(1.400000, 4)},
    {IBLTParams(1.396675, 4)},
    {IBLTParams(1.402844, 4)},
    {IBLTParams(1.399527, 4)},
    {IBLTParams(1.396226, 4)},
    {IBLTParams(1.402353, 4)},
    {IBLTParams(1.399061, 4)},
    {IBLTParams(1.395785, 4)},
    {IBLTParams(1.392523, 4)},
    {IBLTParams(1.398601, 4)},
    {IBLTParams(1.395349, 4)},
    {IBLTParams(1.401392, 4)},
    {IBLTParams(1.398148, 4)},
    {IBLTParams(1.394919, 4)},
    {IBLTParams(1.400922, 4)},
    {IBLTParams(1.397701, 4)},
    {IBLTParams(1.394495, 4)},
    {IBLTParams(1.400458, 4)},
    {IBLTParams(1.397260, 4)},
    {IBLTParams(1.403189, 4)},
    {IBLTParams(1.400000, 4)},
    {IBLTParams(1.396825, 4)},
    {IBLTParams(1.393665, 4)},
    {IBLTParams(1.399549, 4)},
    {IBLTParams(1.396396, 4)},
    {IBLTParams(1.402247, 4)},
    {IBLTParams(1.390135, 4)},
    {IBLTParams(1.395973, 4)},
    {IBLTParams(1.392857, 4)},
    {IBLTParams(1.398664, 4)},
    {IBLTParams(1.395556, 4)},
    {IBLTParams(1.392461, 4)},
    {IBLTParams(1.398230, 4)},
    {IBLTParams(1.395143, 4)},
    {IBLTParams(1.392070, 4)},
    {IBLTParams(1.397802, 4)},
    {IBLTParams(1.394737, 4)},
    {IBLTParams(1.391685, 4)},
    {IBLTParams(1.397380, 4)},
    {IBLTParams(1.394336, 4)},
    {IBLTParams(1.391304, 4)},
    {IBLTParams(1.388286, 4)},
    {IBLTParams(1.393939, 4)},
    {IBLTParams(1.390929, 4)},
    {IBLTParams(1.396552, 4)},
    {IBLTParams(1.393548, 4)},
    {IBLTParams(1.390558, 4)},
    {IBLTParams(1.396146, 4)},
    {IBLTParams(1.393162, 4)},
    {IBLTParams(1.390192, 4)},
    {IBLTParams(1.395745, 4)},
    {IBLTParams(1.392781, 4)},
    {IBLTParams(1.389831, 4)},
    {IBLTParams(1.395349, 4)},
    {IBLTParams(1.392405, 4)},
    {IBLTParams(1.389474, 4)},
    {IBLTParams(1.394958, 4)},
    {IBLTParams(1.392034, 4)},
    {IBLTParams(1.389121, 4)},
    {IBLTParams(1.386221, 4)},
    {IBLTParams(1.391667, 4)},
    {IBLTParams(1.388773, 4)},
    {IBLTParams(1.394191, 4)},
    {IBLTParams(1.391304, 4)},
    {IBLTParams(1.388430, 4)},
    {IBLTParams(1.393814, 4)},
    {IBLTParams(1.390947, 4)},
    {IBLTParams(1.388090, 4)},
    {IBLTParams(1.393443, 4)},
    {IBLTParams(1.390593, 4)},
    {IBLTParams(1.387755, 4)},
    {IBLTParams(1.393075, 4)},
    {IBLTParams(1.390244, 4)},
    {IBLTParams(1.387424, 4)},
    {IBLTParams(1.392713, 4)},
    {IBLTParams(1.389899, 4)},
    {IBLTParams(1.387097, 4)},
    {IBLTParams(1.392354, 4)},
    {IBLTParams(1.389558, 4)},
    {IBLTParams(1.386774, 4)},
    {IBLTParams(1.392000, 4)},
    {IBLTParams(1.389222, 4)},
    {IBLTParams(1.386454, 4)},
    {IBLTParams(1.391650, 4)},
    {IBLTParams(1.388889, 4)},
    {IBLTParams(1.386139, 4)},
    {IBLTParams(1.391304, 4)},
    {IBLTParams(1.388560, 4)},
    {IBLTParams(1.385827, 4)},
    {IBLTParams(1.390963, 4)},
    {IBLTParams(1.388235, 4)},
    {IBLTParams(1.385519, 4)},
    {IBLTParams(1.390625, 4)},
    {IBLTParams(1.387914, 4)},
    {IBLTParams(1.385214, 4)},
    {IBLTParams(1.390291, 4)},
    {IBLTParams(1.387597, 4)},
    {IBLTParams(1.384913, 4)},
    {IBLTParams(1.382239, 4)},
    {IBLTParams(1.387283, 4)},
    {IBLTParams(1.384615, 4)},
    {IBLTParams(1.381958, 4)},
    {IBLTParams(1.386973, 4)},
    {IBLTParams(1.384321, 4)},
    {IBLTParams(1.389313, 4)},
    {IBLTParams(1.386667, 4)},
    {IBLTParams(1.384030, 4)},
    {IBLTParams(1.381404, 4)},
    {IBLTParams(1.386364, 4)},
    {IBLTParams(1.383743, 4)},
    {IBLTParams(1.388679, 4)},
    {IBLTParams(1.386064, 4)},
    {IBLTParams(1.383459, 4)},
    {IBLTParams(1.380863, 4)},
    {IBLTParams(1.385768, 4)},
    {IBLTParams(1.383178, 4)},
    {IBLTParams(1.388060, 4)},
    {IBLTParams(1.385475, 4)},
    {IBLTParams(1.390335, 4)},
    {IBLTParams(1.387755, 4)},
    {IBLTParams(1.385185, 4)},
    {IBLTParams(1.382625, 4)},
    {IBLTParams(1.387454, 4)},
    {IBLTParams(1.384899, 4)},
    {IBLTParams(1.382353, 4)},
    {IBLTParams(1.387156, 4)},
    {IBLTParams(1.384615, 4)},
    {IBLTParams(1.382084, 4)},
    {IBLTParams(1.386861, 4)},
    {IBLTParams(1.384335, 4)},
    {IBLTParams(1.381818, 4)},
    {IBLTParams(1.386570, 4)},
    {IBLTParams(1.384058, 4)},
    {IBLTParams(1.381555, 4)},
    {IBLTParams(1.386282, 4)},
    {IBLTParams(1.383784, 4)},
    {IBLTParams(1.381295, 4)},
    {IBLTParams(1.385996, 4)},
    {IBLTParams(1.383513, 4)},
    {IBLTParams(1.381038, 4)},
    {IBLTParams(1.385714, 4)},
    {IBLTParams(1.383244, 4)},
    {IBLTParams(1.380783, 4)},
    {IBLTParams(1.385435, 4)},
    {IBLTParams(1.382979, 4)},
    {IBLTParams(1.380531, 4)},
    {IBLTParams(1.378092, 4)},
    {IBLTParams(1.382716, 4)},
    {IBLTParams(1.380282, 4)},
    {IBLTParams(1.384886, 4)},
    {IBLTParams(1.382456, 4)},
    {IBLTParams(1.380035, 4)},
    {IBLTParams(1.384615, 4)},
    {IBLTParams(1.382199, 4)},
    {IBLTParams(1.386760, 4)},
    {IBLTParams(1.377391, 4)},
    {IBLTParams(1.381944, 4)},
    {IBLTParams(1.379549, 4)},
    {IBLTParams(1.384083, 4)},
    {IBLTParams(1.381693, 4)},
    {IBLTParams(1.379310, 4)},
    {IBLTParams(1.383821, 4)},
    {IBLTParams(1.381443, 4)},
    {IBLTParams(1.379074, 4)},
    {IBLTParams(1.383562, 4)},
    {IBLTParams(1.381197, 4)},
    {IBLTParams(1.378840, 4)},
    {IBLTParams(1.383305, 4)},
    {IBLTParams(1.380952, 4)},
    {IBLTParams(1.378608, 4)},
    {IBLTParams(1.383051, 4)},
    {IBLTParams(1.380711, 4)},
    {IBLTParams(1.378378, 4)},
    {IBLTParams(1.382799, 4)},
    {IBLTParams(1.380471, 4)},
    {IBLTParams(1.378151, 4)},
    {IBLTParams(1.382550, 4)},
    {IBLTParams(1.380235, 4)},
    {IBLTParams(1.377926, 4)},
    {IBLTParams(1.382304, 4)},
    {IBLTParams(1.380000, 4)},
    {IBLTParams(1.377704, 4)},
    {IBLTParams(1.382060, 4)},
    {IBLTParams(1.379768, 4)},
    {IBLTParams(1.377483, 4)},
    {IBLTParams(1.381818, 4)},
    {IBLTParams(1.379538, 4)},
    {IBLTParams(1.383855, 4)},
    {IBLTParams(1.381579, 4)},
    {IBLTParams(1.379310, 4)},
    {IBLTParams(1.377049, 4)},
    {IBLTParams(1.381342, 4)},
    {IBLTParams(1.379085, 4)},
    {IBLTParams(1.376835, 4)},
    {IBLTParams(1.381107, 4)},
    {IBLTParams(1.378862, 4)},
    {IBLTParams(1.376623, 4)},
    {IBLTParams(1.380875, 4)},
    {IBLTParams(1.378641, 4)},
    {IBLTParams(1.376414, 4)},
    {IBLTParams(1.374194, 4)},
    {IBLTParams(1.378422, 4)},
    {IBLTParams(1.376206, 4)},
    {IBLTParams(1.380417, 4)},
    {IBLTParams(1.378205, 4)},
    {IBLTParams(1.382400, 4)},
    {IBLTParams(1.373802, 4)},
    {IBLTParams(1.377990, 4)},
    {IBLTParams(1.375796, 4)},
    {IBLTParams(1.379968, 4)},
    {IBLTParams(1.377778, 4)},
    {IBLTParams(1.375594, 4)},
    {IBLTParams(1.379747, 4)},
    {IBLTParams(1.377567, 4)},
    {IBLTParams(1.375394, 4)},
    {IBLTParams(1.373228, 4)},
    {IBLTParams(1.377358, 4)},
    {IBLTParams(1.375196, 4)},
    {IBLTParams(1.379310, 4)},
    {IBLTParams(1.377152, 4)},
    {IBLTParams(1.381250, 4)},
    {IBLTParams(1.379095, 4)},
    {IBLTParams(1.376947, 4)},
    {IBLTParams(1.374806, 4)},
    {IBLTParams(1.378882, 4)},
    {IBLTParams(1.376744, 4)},
    {IBLTParams(1.374613, 4)},
    {IBLTParams(1.378671, 4)},
    {IBLTParams(1.376543, 4)},
    {IBLTParams(1.374422, 4)},
    {IBLTParams(1.378462, 4)},
    {IBLTParams(1.376344, 4)},
    {IBLTParams(1.374233, 4)},
    {IBLTParams(1.378254, 4)},
    {IBLTParams(1.376147, 4)},
    {IBLTParams(1.374046, 4)},
    {IBLTParams(1.378049, 4)},
    {IBLTParams(1.382040, 4)},
    {IBLTParams(1.373860, 4)},
    {IBLTParams(1.377845, 4)},
    {IBLTParams(1.375758, 4)},
    {IBLTParams(1.373676, 4)},
    {IBLTParams(1.371601, 4)},
    {IBLTParams(1.375566, 4)},
    {IBLTParams(1.373494, 4)},
    {IBLTParams(1.377444, 4)},
    {IBLTParams(1.375375, 4)},
    {IBLTParams(1.373313, 4)},
    {IBLTParams(1.377246, 4)},
    {IBLTParams(1.375187, 4)},
    {IBLTParams(1.373134, 4)},
    {IBLTParams(1.371088, 4)},
    {IBLTParams(1.375000, 4)},
    {IBLTParams(1.372957, 4)},
    {IBLTParams(1.376855, 4)},
    {IBLTParams(1.374815, 4)},
    {IBLTParams(1.372781, 4)},
    {IBLTParams(1.376662, 4)},
    {IBLTParams(1.374631, 4)},
    {IBLTParams(1.372607, 4)},
    {IBLTParams(1.376471, 4)},
    {IBLTParams(1.374449, 4)},
    {IBLTParams(1.372434, 4)},
    {IBLTParams(1.376281, 4)},
    {IBLTParams(1.374269, 4)},
    {IBLTParams(1.372263, 4)},
    {IBLTParams(1.376093, 4)},
    {IBLTParams(1.374090, 4)},
    {IBLTParams(1.372093, 4)},
    {IBLTParams(1.375907, 4)},
    {IBLTParams(1.373913, 4)},
    {IBLTParams(1.371925, 4)},
    {IBLTParams(1.369942, 4)},
    {IBLTParams(1.373737, 4)},
    {IBLTParams(1.371758, 4)},
    {IBLTParams(1.375540, 4)},
    {IBLTParams(1.373563, 4)},
    {IBLTParams(1.371593, 4)},
    {IBLTParams(1.369628, 4)},
    {IBLTParams(1.373391, 4)},
    {IBLTParams(1.371429, 4)},
    {IBLTParams(1.375178, 4)},
    {IBLTParams(1.373219, 4)},
    {IBLTParams(1.371266, 4)},
    {IBLTParams(1.375000, 4)},
    {IBLTParams(1.373050, 4)},
    {IBLTParams(1.371105, 4)},
    {IBLTParams(1.369165, 4)},
    {IBLTParams(1.372881, 4)},
    {IBLTParams(1.370945, 4)},
    {IBLTParams(1.374648, 4)},
    {IBLTParams(1.372714, 4)},
    {IBLTParams(1.370787, 4)},
    {IBLTParams(1.374474, 4)},
    {IBLTParams(1.372549, 4)},
    {IBLTParams(1.370629, 4)},
    {IBLTParams(1.368715, 4)},
    {IBLTParams(1.372385, 4)},
    {IBLTParams(1.370474, 4)},
    {IBLTParams(1.374131, 4)},
    {IBLTParams(1.372222, 4)},
    {IBLTParams(1.370319, 4)},
    {IBLTParams(1.373961, 4)},
    {IBLTParams(1.372061, 4)},
    {IBLTParams(1.370166, 4)},
    {IBLTParams(1.368276, 4)},
    {IBLTParams(1.371901, 4)},
    {IBLTParams(1.370014, 4)},
    {IBLTParams(1.373626, 4)},
    {IBLTParams(1.371742, 4)},
    {IBLTParams(1.369863, 4)},
    {IBLTParams(1.373461, 4)},
    {IBLTParams(1.371585, 4)},
    {IBLTParams(1.369714, 4)},
    {IBLTParams(1.367847, 4)},
    {IBLTParams(1.371429, 4)},
    {IBLTParams(1.369565, 4)},
    {IBLTParams(1.367707, 4)},
    {IBLTParams(1.371274, 4)},
    {IBLTParams(1.369418, 4)},
    {IBLTParams(1.372973, 4)},
    {IBLTParams(1.371120, 4)},
    {IBLTParams(1.369272, 4)},
    {IBLTParams(1.372813, 4)},
    {IBLTParams(1.370968, 4)},
    {IBLTParams(1.369128, 4)},
    {IBLTParams(1.367292, 4)},
    {IBLTParams(1.370817, 4)},
    {IBLTParams(1.368984, 4)},
    {IBLTParams(1.372497, 4)},
    {IBLTParams(1.370667, 4)},
    {IBLTParams(1.368842, 4)},
    {IBLTParams(1.372340, 4)},
    {IBLTParams(1.370518, 4)},
    {IBLTParams(1.368700, 4)},
    {IBLTParams(1.372185, 4)},
    {IBLTParams(1.370370, 4)},
    {IBLTParams(1.368560, 4)},
    {IBLTParams(1.372032, 4)},
    {IBLTParams(1.370224, 4)},
    {IBLTParams(1.368421, 4)},
    {IBLTParams(1.366623, 4)},
    {IBLTParams(1.370079, 4)},
    {IBLTParams(1.368283, 4)},
    {IBLTParams(1.366492, 4)},
    {IBLTParams(1.369935, 4)},
    {IBLTParams(1.368146, 4)},
    {IBLTParams(1.371578, 4)},
    {IBLTParams(1.369792, 4)},
    {IBLTParams(1.368010, 4)},
    {IBLTParams(1.366234, 4)},
    {IBLTParams(1.369650, 4)},
    {IBLTParams(1.367876, 4)},
    {IBLTParams(1.366106, 4)},
    {IBLTParams(1.369509, 4)},
    {IBLTParams(1.367742, 4)},
    {IBLTParams(1.371134, 4)},
    {IBLTParams(1.369369, 4)},
    {IBLTParams(1.367609, 4)},
    {IBLTParams(1.365854, 4)},
    {IBLTParams(1.369231, 4)},
    {IBLTParams(1.367478, 4)},
    {IBLTParams(1.370844, 4)},
    {IBLTParams(1.369093, 4)},
    {IBLTParams(1.367347, 4)},
    {IBLTParams(1.365605, 4)},
    {IBLTParams(1.368957, 4)},
    {IBLTParams(1.367217, 4)},
    {IBLTParams(1.370558, 4)},
    {IBLTParams(1.368821, 4)},
    {IBLTParams(1.367089, 4)},
    {IBLTParams(1.365360, 4)},
    {IBLTParams(1.368687, 4)},
    {IBLTParams(1.366961, 4)},
    {IBLTParams(1.365239, 4)},
    {IBLTParams(1.368553, 4)},
    {IBLTParams(1.366834, 4)},
    {IBLTParams(1.365119, 4)},
    {IBLTParams(1.368421, 4)},
    {IBLTParams(1.366708, 4)},
    {IBLTParams(1.365000, 4)},
    {IBLTParams(1.368290, 4)},
    {IBLTParams(1.366584, 4)},
    {IBLTParams(1.364882, 4)},
    {IBLTParams(1.368159, 4)},
    {IBLTParams(1.366460, 4)},
    {IBLTParams(1.364764, 4)},
    {IBLTParams(1.368030, 4)},
    {IBLTParams(1.366337, 4)},
    {IBLTParams(1.364648, 4)},
    {IBLTParams(1.367901, 4)},
    {IBLTParams(1.366215, 4)},
    {IBLTParams(1.364532, 4)},
    {IBLTParams(1.367774, 4)},
    {IBLTParams(1.366093, 4)},
    {IBLTParams(1.369325, 4)},
    {IBLTParams(1.367647, 4)},
    {IBLTParams(1.365973, 4)},
    {IBLTParams(1.364303, 4)},
    {IBLTParams(1.367521, 4)},
    {IBLTParams(1.365854, 4)},
    {IBLTParams(1.364190, 4)},
    {IBLTParams(1.367397, 4)},
    {IBLTParams(1.365735, 4)},
    {IBLTParams(1.364078, 4)},
    {IBLTParams(1.367273, 4)},
    {IBLTParams(1.365617, 4)},
    {IBLTParams(1.363966, 4)},
    {IBLTParams(1.367150, 4)},
    {IBLTParams(1.365501, 4)},
    {IBLTParams(1.363855, 4)},
    {IBLTParams(1.367028, 4)},
    {IBLTParams(1.365385, 4)},
    {IBLTParams(1.368547, 4)},
    {IBLTParams(1.362110, 4)},
    {IBLTParams(1.365269, 4)},
    {IBLTParams(1.363636, 4)},
    {IBLTParams(1.366786, 4)},
    {IBLTParams(1.365155, 4)},
    {IBLTParams(1.363528, 4)},
    {IBLTParams(1.366667, 4)},
    {IBLTParams(1.365042, 4)},
    {IBLTParams(1.363420, 4)},
    {IBLTParams(1.366548, 4)},
    {IBLTParams(1.364929, 4)},
    {IBLTParams(1.363314, 4)},
    {IBLTParams(1.366430, 4)},
    {IBLTParams(1.364817, 4)},
    {IBLTParams(1.367925, 4)},
    {IBLTParams(1.366313, 4)},
    {IBLTParams(1.364706, 4)},
    {IBLTParams(1.363102, 4)},
    {IBLTParams(1.366197, 4)},
    {IBLTParams(1.364596, 4)},
    {IBLTParams(1.367681, 4)},
    {IBLTParams(1.366082, 4)},
    {IBLTParams(1.364486, 4)},
    {IBLTParams(1.362894, 4)},
    {IBLTParams(1.361305, 4)},
    {IBLTParams(1.364377, 4)},
    {IBLTParams(1.362791, 4)},
    {IBLTParams(1.365854, 4)},
    {IBLTParams(1.364269, 4)},
    {IBLTParams(1.362688, 4)},
    {IBLTParams(1.365741, 4)},
    {IBLTParams(1.364162, 4)},
    {IBLTParams(1.362587, 4)},
    {IBLTParams(1.365629, 4)},
    {IBLTParams(1.364055, 4)},
    {IBLTParams(1.362486, 4)},
    {IBLTParams(1.365517, 4)},
    {IBLTParams(1.363949, 4)},
    {IBLTParams(1.362385, 4)},
    {IBLTParams(1.365407, 4)},
    {IBLTParams(1.363844, 4)},
    {IBLTParams(1.362286, 4)},
    {IBLTParams(1.365297, 4)},
    {IBLTParams(1.363740, 4)},
    {IBLTParams(1.362187, 4)},
    {IBLTParams(1.365188, 4)},
    {IBLTParams(1.363636, 4)},
    {IBLTParams(1.362089, 4)},
    {IBLTParams(1.365079, 4)},
    {IBLTParams(1.363533, 4)},
    {IBLTParams(1.361991, 4)},
    {IBLTParams(1.360452, 4)},
    {IBLTParams(1.363431, 4)},
    {IBLTParams(1.361894, 4)},
    {IBLTParams(1.364865, 4)},
    {IBLTParams(1.363330, 4)},
    {IBLTParams(1.361798, 4)},
    {IBLTParams(1.364759, 4)},
    {IBLTParams(1.363229, 4)},
    {IBLTParams(1.361702, 4)},
    {IBLTParams(1.364653, 4)},
    {IBLTParams(1.363128, 4)},
    {IBLTParams(1.361607, 4)},
    {IBLTParams(1.364548, 4)},
    {IBLTParams(1.363029, 4)},
    {IBLTParams(1.361513, 4)},
    {IBLTParams(1.364444, 4)},
    {IBLTParams(1.362930, 4)},
    {IBLTParams(1.361419, 4)},
    {IBLTParams(1.364341, 4)},
    {IBLTParams(1.362832, 4)},
    {IBLTParams(1.361326, 4)},
    {IBLTParams(1.359823, 4)},
    {IBLTParams(1.362734, 4)},
    {IBLTParams(1.361233, 4)},
    {IBLTParams(1.359736, 4)},
    {IBLTParams(1.362637, 4)},
    {IBLTParams(1.361142, 4)},
    {IBLTParams(1.364035, 4)},
    {IBLTParams(1.362541, 4)},
    {IBLTParams(1.361050, 4)},
    {IBLTParams(1.363934, 4)},
    {IBLTParams(1.362445, 4)},
    {IBLTParams(1.360960, 4)},
    {IBLTParams(1.359477, 4)},
    {IBLTParams(1.362350, 4)},
    {IBLTParams(1.360870, 4)},
    {IBLTParams(1.359392, 4)},
    {IBLTParams(1.362256, 4)},
    {IBLTParams(1.360780, 4)},
    {IBLTParams(1.363636, 4)},
    {IBLTParams(1.362162, 4)},
    {IBLTParams(1.360691, 4)},
    {IBLTParams(1.359223, 4)},
    {IBLTParams(1.362069, 4)},
    {IBLTParams(1.360603, 4)},
    {IBLTParams(1.363441, 4)},
    {IBLTParams(1.361976, 4)},
    {IBLTParams(1.360515, 4)},
    {IBLTParams(1.359057, 4)},
    {IBLTParams(1.361884, 4)},
    {IBLTParams(1.360428, 4)},
    {IBLTParams(1.358974, 4)},
    {IBLTParams(1.361793, 4)},
    {IBLTParams(1.364606, 4)},
    {IBLTParams(1.363152, 4)},
    {IBLTParams(1.361702, 4)},
    {IBLTParams(1.364506, 4)},
    {IBLTParams(1.358811, 4)},
    {IBLTParams(1.361612, 4)},
    {IBLTParams(1.360169, 4)},
    {IBLTParams(1.358730, 4)},
    {IBLTParams(1.361522, 4)},
    {IBLTParams(1.360084, 4)},
    {IBLTParams(1.358650, 4)},
    {IBLTParams(1.361433, 4)},
    {IBLTParams(1.360000, 4)},
    {IBLTParams(1.362776, 4)},
    {IBLTParams(1.361345, 4)},
    {IBLTParams(1.359916, 4)},
    {IBLTParams(1.362683, 4)},
    {IBLTParams(1.361257, 4)},
    {IBLTParams(1.359833, 4)},
    {IBLTParams(1.358412, 4)},
    {IBLTParams(1.361169, 4)},
    {IBLTParams(1.359750, 4)},
    {IBLTParams(1.358333, 4)},
    {IBLTParams(1.361082, 4)},
    {IBLTParams(1.359667, 4)},
    {IBLTParams(1.358255, 4)},
    {IBLTParams(1.360996, 4)},
    {IBLTParams(1.359585, 4)},
    {IBLTParams(1.358178, 4)},
    {IBLTParams(1.360910, 4)},
    {IBLTParams(1.359504, 4)},
    {IBLTParams(1.358101, 4)},
    {IBLTParams(1.360825, 4)},
    {IBLTParams(1.359423, 4)},
    {IBLTParams(1.358025, 4)},
    {IBLTParams(1.360740, 4)},
    {IBLTParams(1.359343, 4)},
    {IBLTParams(1.357949, 4)},
    {IBLTParams(1.360656, 4)},
    {IBLTParams(1.359263, 4)},
    {IBLTParams(1.357873, 4)},
    {IBLTParams(1.356486, 4)},
    {IBLTParams(1.359184, 4)},
    {IBLTParams(1.357798, 4)},
    {IBLTParams(1.360489, 4)},
    {IBLTParams(1.359105, 4)},
    {IBLTParams(1.357724, 4)},
    {IBLTParams(1.360406, 4)},
    {IBLTParams(1.359026, 4)},
    {IBLTParams(1.357649, 4)},
    {IBLTParams(1.360324, 4)},
    {IBLTParams(1.358948, 4)},
    {IBLTParams(1.357576, 4)},
    {IBLTParams(1.360242, 4)},
    {IBLTParams(1.358871, 4)},
    {IBLTParams(1.357503, 4)},
    {IBLTParams(1.360161, 4)},
    {IBLTParams(1.358794, 4)},
    {IBLTParams(1.361446, 4)},
    {IBLTParams(1.360080, 4)},
    {IBLTParams(1.358717, 4)},
    {IBLTParams(1.357357, 4)},
    {IBLTParams(1.356000, 4)},
};

IBLTParams IBLTParams::FindOptimal(size_t expected_items_count) {
  constexpr size_t PARAMS_LENGTH =
      sizeof(experimental_params) / sizeof(experimental_params[0]);

  if (expected_items_count >= PARAMS_LENGTH) {
    return DEFAULT_PARAMS;
  }

  return experimental_params[expected_items_count];
}
